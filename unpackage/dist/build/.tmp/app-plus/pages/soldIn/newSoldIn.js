(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/soldIn/newSoldIn"],{1462:function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o})},"1e4f":function(e,t,n){"use strict";var o=n("5747"),i=n.n(o);i.a},"381d":function(e,t,n){"use strict";n.r(t);var o=n("1462"),i=n("c729");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("1e4f");var a,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);t["default"]=u.exports},5747:function(e,t,n){},"6bce":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){return n.e("components/xfl-select/store-select").then(n.bind(null,"9b3f"))},u=function(){return n.e("components/page-head").then(n.bind(null,"cf30"))},l=function(){return n.e("components/page-foot").then(n.bind(null,"07ef"))},c=function(){return n.e("components/x-input/x-input").then(n.bind(null,"bd8b"))},h=function(){return Promise.all([n.e("common/vendor"),n.e("components/w-picker/w-picker")]).then(n.bind(null,"8282"))},d={data:function(){return{minHeight:"",barCode:"",putOnDate:"",weight:0,length:0,width:0,height:0,wmsWarehouseName:"",wmsWarehouseDetailId:"",initValue:"",wmsWarehouseId:"",wmsStockId:"",goodsName:"",palletNumber:"",productCode:"",type:1,tip:"",storeList:[],remarks:"",disabled:!0}},components:{pageHeade:u,pageFoot:l,xInput:c,wPicker:h,storeSelect:r},computed:s({},(0,i.mapState)(["lang"])),onLoad:function(t){this.type=t.type,0==this.type?(this.barCode=t.id,this.loadData()):this.barCode="",this.minHeight=e.getStorageSync("height"),this.barCode="1577928797888",this.loadData(),console.log(o(this.minHeight," at pages\\soldIn\\newSoldIn.vue:163"))},methods:{changeStore:function(e){console.log(o(e," at pages\\soldIn\\newSoldIn.vue:168")),this.wmsWarehouseDetailId=e.id},changeLen:function(e){this.length=e},changeWidth:function(e){this.width=e},changeHeight:function(e){this.height=e,0==this.length&&0==this.width||(this.getwarehouseDetail(1),this.disabled=!1)},changeWeigth:function(e){this.weight=e},loadData:function(){var e=this;if(""!=this.barCode){var t={barCode:this.barCode};console.log(o(t," at pages\\soldIn\\newSoldIn.vue:194")),this.$REQ.get(t,"billPutOn/findInfoByBarCode").then(function(t){console.log(o(t," at pages\\soldIn\\newSoldIn.vue:196")),t.flag?(e.goodsName=t.result.goodsName,e.palletNumber=t.result.palletNumber,e.productCode=t.result.productCode,e.wmsWarehouseId=t.result.wmsWarehouseId,e.wmsStockId=t.result.wmsStockId,e.wmsWarehouseName=t.result.wmsWarehouseName):e.$api.tip(t.errorCode)}).catch(function(e){})}},onClick:function(t){console.log(o(t," at pages\\soldIn\\newSoldIn.vue:208")),0==t?e.navigateBack():this.$api.navTo("/pages/soldIn/soldInHistory")},getwarehouseDetail:function(e){var t=this,n={length:this.length,width:this.width,height:this.height,wmsWarehouseId:this.wmsWarehouseId};console.log(o(n," at pages\\soldIn\\newSoldIn.vue:218")),this.$REQ.get(n,"warehouseDetail/findTopByPriority").then(function(e){console.log(o(e," at pages\\soldIn\\newSoldIn.vue:220")),e.flag?1==e.result.length?(t.initValue=e.result[0].code,t.wmsWarehouseDetailId=e.result[0].wmsWarehouseId):e.result.forEach(function(e){e.value=e.code,t.storeList.push(e)}):t.$refs.Message.error({content:t.$api.getError(e.wmsManifestId),duration:2e3,background:!1})}).catch(function(e){})},save:function(){var t=this;if(""!=this.barCode&&""!=this.wmsStockId){var n={barCode:this.barCode,putOnDate:this.putOnDate,weight:this.weight,length:this.length,width:this.width,height:this.height,wmsWarehouseDetailId:this.wmsWarehouseDetailId,wmsStockId:this.wmsStockId,remarks:this.remarks};console.log(o(n," at pages\\soldIn\\newSoldIn.vue:258")),e.showLoading({}),this.$REQ.post(n,"billPutOn/addBillPutOn").then(function(n){e.hideLoading(),n.flag?(t.barCode="",t.putOnDate="",t.weight=0,t.length=0,t.width=0,t.height=0,t.wmsWarehouseDetailId="",t.wmsStockId="",t.remarks="",t.$api.tip(his.lang.tip.success)):t.$refs.Message.error({content:t.$api.getError(n.errorCode),duration:2e3,background:!1})}).catch(function(e){})}else this.$refs.Message.error({content:this.$api.getError(res.wmsManifestId),duration:2e3,background:!1})},choseDate:function(){this.$refs.date.show()},onConfirm:function(e){this.putOnDate=e.result}}};t.default=d}).call(this,n("6e42")["default"],n("0de9")["default"])},c729:function(e,t,n){"use strict";n.r(t);var o=n("6bce"),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t["default"]=i.a},e0e8:function(e,t,n){"use strict";(function(e){n("855e"),n("921b");o(n("66fd"));var t=o(n("381d"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["e0e8","common/runtime","common/vendor"]]]);