(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/history/newAdd"],{"0ebd":function(e,t,r){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("2f62");function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){i(e,t,r[t])})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(){return r.e("components/page-head").then(r.bind(null,"cf30"))},d=function(){return r.e("components/page-foot").then(r.bind(null,"07ef"))},c=function(){return r.e("components/xfl-select/xfl-select").then(r.bind(null,"45e1"))},u=function(){return r.e("components/xfl-select/flight-select").then(r.bind(null,"a2f9"))},h=function(){return r.e("components/xfl-select/goodName-select").then(r.bind(null,"4d98"))},g=function(){return r.e("components/xfl-select/goodType-select").then(r.bind(null,"de96"))},f=function(){return r.e("components/xfl-select/hose-select").then(r.bind(null,"7c34"))},l=function(){return r.e("components/x-input/x-input").then(r.bind(null,"bd8b"))},p={data:function(){return{saveTrue:!1,goodsType:getApp().globalData.goodsType,ManifestType:[],goodNameType:[],categoryList:[],minHeight:"",dataObj:{},awb:"",flightId:"",goodsNameId:"",registerNumber:0,wmsWarehouseId:"",wmsManifestId:"",number:0,remarks:"",departureStation:"",destinationStation:"",shipperName:"",shipperAddress:"",shipperPhone:"",receiverName:"",receiverAddress:"",receiverPhone:"",grossWeight:"",chargeableWeight:"",rateClass:"",productCode:"",choseGoodsType:""}},components:{pageHeade:a,pageFoot:d,houseSelect:f,goodNameSelect:h,goodTypeSelect:g,flightSelect:u,xflSelect:c,xInput:l},computed:s({},(0,n.mapState)(["lang"])),onLoad:function(){this.searchStoreNmae()},onSHow:function(){this.minHeight=e.getStorageSync("height"),console.log(o(this.minHeight," at pages\\history\\newAdd.vue:268"))},methods:{flightDetials:function(){""!=this.awb&&(this.saveTrue=!0)},searchAwb:function(){var e=this;if(""!=this.awb){var t={awb:this.awb};console.log(o(t," at pages\\history\\newAdd.vue:281")),this.$REQ.get(t,"manifest/findManifestByAwb").then(function(t){console.log(o(t," at pages\\history\\newAdd.vue:284")),t.flag?(e.flightId=t.result.id,e.searchManifestId(t.result.id),e.searchGoodName(t.result.id),e.dataObj=t.result):e.$refs.Message.error({content:e.$api.getError(t.errorCode),duration:2e3,background:!1})}).catch(function(e){})}},searchManifestId:function(e){var t=this,r={wmsManifestId:e};this.$REQ.get(r,"manifest/findFlightByWmsManifestId").then(function(e){e.flag?(e.result.forEach(function(e){e.value=e.flight}),t.ManifestType=e.result):t.$refs.Message.error({content:t.$api.getError(e.errorCode),duration:2e3,background:!1})}).catch(function(e){})},searchGoodName:function(e){var t=this,r={wmsManifestId:e};this.$REQ.get(r,"manifest/findGoodsNameByWmsManifestId").then(function(e){e.flag?(e.result.forEach(function(e){e.value=e.goodsName}),t.goodNameType=e.result):t.$refs.Message.error({content:t.$api.getError(e.errorCode),duration:2e3,background:!1})}).catch(function(e){})},searchStoreNmae:function(){var e=this,t={state:"1"};this.$REQ.get(t,"sortingRegister/findWarehouseList").then(function(t){t.flag?(t.result.forEach(function(e){e.value=e.name}),e.categoryList=t.result):e.$refs.Message.error({content:e.$api.getError(t.errorCode),duration:2e3,background:!1})}).catch(function(e){})},searchNumber:function(e){var t=this,r={goodsNameId:e};this.$REQ.get(r,"manifest/findWmsManifestGoodsByGoodsNameId").then(function(e){console.log(o(e," at pages\\history\\newAdd.vue:343")),e.flag?t.number=e.result.number:t.$refs.Message.error({content:t.$api.getError(e.errorCode),duration:2e3,background:!1})}).catch(function(e){})},onClick:function(t){0==t?e.navigateBack():this.$api.navTo("/pages/history/history")},changeFlight:function(e){console.log(o(e," at pages\\history\\newAdd.vue:356")),this.flightId=e.id,this.wmsManifestId=e.wmsManifestId,this.number=e.lineNumber},changeGoodName:function(e){console.log(o(e," at pages\\history\\newAdd.vue:362")),this.goodsNameId=e.id,this.number=e.number,this.grossWeight=e.grossWeight,this.productCode=e.productCode,this.rateClass=e.rateClass,this.chargeableWeight=e.chargeableWeight},changeStoreName:function(e){console.log(o(e," at pages\\history\\newAdd.vue:372")),this.wmsWarehouseId=e.id},changeGoodsType:function(e){console.log(o(e," at pages\\history\\newAdd.vue:376")),this.choseGoodsType=e.label},changeNumber:function(e){this.registerNumber=e},error:function(e){""!=e.goodsNameId&&void 0!=e.goodsNameId&&this.$refs.Message.error({content:this.$api.getError(e.goodsNameId),duration:2e3,background:!1}),""!=e.wmsWarehouseId&&void 0!=e.wmsWarehouseId&&this.$refs.Message.error({content:this.$api.getError(e.wmsWarehouseId),duration:2e3,background:!1}),""!=e.goodsType&&void 0!=e.goodsType&&this.$refs.Message.error({content:this.$api.getError(e.goodsType),duration:2e3,background:!1}),""!=e.registerNumber&&void 0!=e.registerNumber&&this.$refs.Message.error({content:this.$api.getError(e.registerNumber),duration:2e3,background:!1}),""!=e.wmsManifestId&&void 0!=e.wmsManifestId&&this.$refs.Message.error({content:this.$api.getError(e.wmsManifestId),duration:2e3,background:!1})},save:function(){var t=this,r={awb:this.awb,flightId:this.flightId,goodsNameId:this.goodsNameId,registerNumber:this.registerNumber,wmsWarehouseId:this.wmsWarehouseId,goodsType:this.choseGoodsType,wmsManifestId:this.wmsManifestId,remarks:this.remarks,number:this.number,departureStation:this.dataObj.departureStation,destinationStation:this.dataObj.destinationStation,shipperName:this.dataObj.shipperName,shipperAddress:this.dataObj.shipperAddress,shipperPhone:this.dataObj.shipperAddress,receiverName:this.dataObj.receiverName,receiverAddress:this.dataObj.receiverAddress,receiverPhone:this.dataObj.receiverPhone,grossWeight:this.grossWeight,chargeableWeight:this.chargeableWeight,rateClass:this.rateClass,productCode:this.productCode};console.log(o(r," at pages\\history\\newAdd.vue:445")),e.showLoading({}),this.$REQ.post(r,"sortingRegister/addSortingRegister").then(function(r){console.log(o(r," at pages\\history\\newAdd.vue:448")),e.hideLoading(),r.flag?(t.$api.tip(t.lang.tip.success),t.awb="",t.flightId="",t.goodsNameId="",t.registerNumber=0,t.wmsWarehouseId="",his.choseGoodsType="",t.wmsManifestId="",t.remarks="",t.number=0,t.dataObj={},t.grossWeight=0,t.chargeableWeight=0,t.rateClass="",t.productCode=""):t.error(r.result)}).catch(function(e){})}}};t.default=p}).call(this,r("6e42")["default"],r("0de9")["default"])},"468c":function(e,t,r){"use strict";var o,n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){t.stopPropagation(),e.saveTrue=!1})},s=[];r.d(t,"b",function(){return n}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return o})},"7c81":function(e,t,r){"use strict";r.r(t);var o=r("468c"),n=r("8a26");for(var s in n)"default"!==s&&function(e){r.d(t,e,function(){return n[e]})}(s);r("bdbe");var i,a=r("f0c5"),d=Object(a["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=d.exports},"8a26":function(e,t,r){"use strict";r.r(t);var o=r("0ebd"),n=r.n(o);for(var s in o)"default"!==s&&function(e){r.d(t,e,function(){return o[e]})}(s);t["default"]=n.a},bdbe:function(e,t,r){"use strict";var o=r("df5a"),n=r.n(o);n.a},df5a:function(e,t,r){},eeff:function(e,t,r){"use strict";(function(e){r("855e"),r("921b");o(r("66fd"));var t=o(r("7c81"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])}},[["eeff","common/runtime","common/vendor"]]]);